<html>
<head>
    <meta charset="UTF-8">
    <link href="lib/bootstrap.min.css" rel="stylesheet">
    <script src="lib/underscore-min.js" type="text/javascript"></script>
    <script src="lib/jquery-1.10.2.min.js" type="text/javascript"></script>
    <script src="lib/rdf.js"></script>
    <script src="lib/n3-browser.js"></script>
    <script src="lib/jsonld.js"></script>
    <script src="lib/rdf-ext.js"></script>
    <script src="matcher.js" type="text/javascript"></script>
    <script src="src/uduvudu.js" type="text/javascript"></script>
</head>
<body>
    <div class="container">
        <!-- location where to render to -->
        <div id="main">
        </div>
    </div>
    <!-- where the templates are injected -->
    <div id="visualizer">
    </div>
    <script type="text/javascript">
        // prepare visualizer templates for uduvudu
        $("#visualizer").load("visualizer.html");

        // instantiate rdf-ext object
        var store = new rdf.LdpStore();
        var source = 'http://dbpedia.org/resource/Fribourg';

        // something about what is goingn on
        $("#main").html('<div class="alert alert-info"><button type="button" class="close" data-dismiss="alert">&times;</button> <strong>Loading</strong> '+source+' is being loaded ...</div>');

        // load triples
        store.graph(source, function (graph, error) {
                if (error == null) {
                    console.debug("successfully loaded "+graph.toArray().length+" triples");
                    // resource (entry for template search) is same as source in this example
                    $("#main").html(uduvudu.process(graph, source));
                };
            })
    </script>
</body>
</html>
